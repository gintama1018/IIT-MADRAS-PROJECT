# ğŸ›¡ï¸ DebtRisk AI | Reimagining DCA Management through Digital & AI Solutions

> **FedEx SMART Hackathon 2025** | AI-Driven Risk Classification for Debt Collection Cases

<div align="center">

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“Š Real-time Dashboards  â”‚  ğŸ¤– AI Risk Classification  â”‚  ğŸ¢ DCA Management  â•‘
â•‘  â±ï¸ SLA Tracking          â”‚  ğŸ“œ Complete Audit Trail    â”‚  ğŸ¯ Smart Priority   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

</div>

---

## ğŸ¯ Problem Statement Alignment

### The Challenge (from FedEx)
> "Reimagining Debt Collection Agency (DCA) Management through Digital & AI Solutions"

### Our Solution
We built an **AI-powered debt collection management platform** that:
- âœ… **Centralizes** case allocation, tracking, and closure
- âœ… **Enforces** SOP-driven workflows and SLAs
- âœ… **Improves** recovery efficiency and accountability
- âœ… **Provides** real-time dashboards and KPIs
- âœ… **Enables** structured collaboration with DCAs

---

## ğŸ“Š Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DebtRisk AI Platform                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Database   â”‚â”€â”€â”€â–¶â”‚  Preprocessing  â”‚â”€â”€â”€â–¶â”‚   Gemini AI     â”‚               â”‚
â”‚  â”‚  (20 Cases) â”‚    â”‚  (Context Gen)  â”‚    â”‚   (Risk Logic)  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         â”‚                                           â”‚                         â”‚
â”‚         â”‚                                           â–¼                         â”‚
â”‚         â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚                              â”‚   Result Storage    â”‚               â”‚
â”‚         â”‚                              â”‚   (Audit Trail)     â”‚               â”‚
â”‚         â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         â”‚                                       â”‚                             â”‚
â”‚         â–¼                                       â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚                      Streamlit UI Layer                            â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚   ğŸ“Š Dashboard  â”‚   ğŸ” Case Analysis  â”‚     ğŸ“œ Audit Log          â”‚       â”‚
â”‚  â”‚                 â”‚                     â”‚                            â”‚       â”‚
â”‚  â”‚  â€¢ KPI Metrics  â”‚  â€¢ Case File View   â”‚  â€¢ Decision History        â”‚       â”‚
â”‚  â”‚  â€¢ SLA Charts   â”‚  â€¢ DCA Assignment   â”‚  â€¢ Filter by Risk          â”‚       â”‚
â”‚  â”‚  â€¢ DCA Perf     â”‚  â€¢ SLA Status       â”‚  â€¢ Export Reports          â”‚       â”‚
â”‚  â”‚  â€¢ Risk Dist    â”‚  â€¢ AI Assessment    â”‚  â€¢ Full Traceability       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Key Performance Indicators (KPIs)

| KPI | Description | How We Track It |
|-----|-------------|-----------------|
| **SLA Compliance Rate** | % of cases resolved within SLA | `(Cases within SLA / Total Cases) Ã— 100` |
| **Portfolio Value** | Total outstanding debt amount | Sum of all case amounts |
| **Critical Cases** | High-priority cases needing action | Count of cases with priority = Critical |
| **DCA Performance** | Case allocation across agencies | Cases & amount per DCA |
| **Risk Distribution** | AI classification breakdown | High/Medium/Low counts |
| **Resolution Time** | Days to close cases | SLA days vs days overdue |

---

## ğŸ¢ DCA Management Features

### Assigned DCAs in System
| DCA Name | Specialization | Case Volume |
|----------|---------------|-------------|
| **Alpha Collections** | High-value retail | 7 cases |
| **Beta Recovery Services** | Standard recovery | 7 cases |
| **Gamma Legal Collections** | Legal/escalated | 6 cases |

### SLA Enforcement
- Each case has an **SLA target** (15-90 days based on priority)
- Visual **SLA status indicators**: âœ… On Track, âš ï¸ At Risk, ğŸš¨ Breached
- Real-time **SLA compliance dashboard** with donut chart

---

## ğŸ”„ Process Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. INGEST  â”‚â”€â”€â”€â”€â–¶â”‚  2. ASSIGN  â”‚â”€â”€â”€â”€â–¶â”‚  3. ANALYZE â”‚â”€â”€â”€â”€â–¶â”‚  4. ACTION  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                   â”‚                   â”‚                   â”‚
      â–¼                   â–¼                   â–¼                   â–¼
 Load case from     Assign to DCA      Run AI Risk         Store decision
 database with      based on region    Classification      for audit trail
 all attributes     and priority       with Gemini         and reporting
```

### Detailed Steps:
1. **Case Ingestion** â†’ Load from database with DCA, SLA, priority, region
2. **Context Generation** â†’ Convert raw numbers to semantic descriptions
3. **AI Classification** â†’ Gemini 1.5 Flash analyzes and reasons
4. **Decision Storage** â†’ Full audit trail with timestamp and explanation
5. **Dashboard Update** â†’ Real-time KPIs and visualizations

---

## ğŸ¤– AI/ML Implementation

### Why Gemini LLM instead of Traditional ML?
| Traditional ML | Gemini LLM (Our Choice) |
|---------------|-------------------------|
| Requires labeled historical data | Works with contextual descriptions |
| Black-box predictions | Explainable reasoning |
| Needs retraining for new patterns | Adapts to new scenarios |
| Fixed feature engineering | Dynamic context understanding |

### AI Prompt Engineering
We use a **structured JSON prompt** that:
- Describes the case in semantic context (not raw numbers)
- Requests specific output format: risk_level, confidence, reason, action
- Ensures consistent, parseable responses

### Sample AI Output
```json
{
  "risk_level": "HIGH",
  "confidence": 0.87,
  "reason": "Very high outstanding amount of â‚¹5L+ combined with 120+ days overdue and multiple failed recovery attempts indicates severe collection risk.",
  "recommended_action": "ESCALATE: Initiate legal proceedings and consider external collection agency for specialized recovery."
}
```

---

## ğŸ“ˆ Dashboard Screenshots

### Executive Dashboard
- **5 KPI Cards**: Total Cases, Portfolio Value, SLA Compliance, Critical Cases, Active DCAs
- **4 Charts**: Risk Distribution, DCA Allocation, Priority Breakdown, SLA Status

### Case Analysis
- **Case File Card**: Shows all case details including DCA, SLA status, priority
- **AI Assessment**: Risk level badge, confidence score, reasoning, recommended action
- **"Under the Hood"**: Transparency into preprocessing and AI context

### Audit Log
- **Decision History**: All AI decisions with timestamps
- **Risk Filters**: Toggle buttons for High/Medium/Low
- **Export**: Download as JSON for compliance

---

## ğŸš€ Quick Start

### Installation
```bash
cd AI-Risk-Classification
pip install -r requirements.txt
```

### Run Application
```bash
streamlit run app.py
```

### Demo Mode (No API Key)
- App works out-of-the-box with rule-based classification
- Add Gemini API key in sidebar for full AI reasoning

---

## ğŸ“ Project Structure

```
AI-Risk-Classification/
â”œâ”€â”€ database/
â”‚   â””â”€â”€ cases.json              # 20 cases with DCA, SLA, priority, region
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ case_fetcher.py         # Fetch single case
â”‚   â”œâ”€â”€ preprocessor.py         # Context generation (raw â†’ semantic)
â”‚   â”œâ”€â”€ gemini_client.py        # AI classification
â”‚   â”œâ”€â”€ result_storage.py       # Audit storage
â”‚   â””â”€â”€ pipeline.py             # Main orchestrator
â”œâ”€â”€ results/
â”‚   â””â”€â”€ decisions.json          # Stored AI decisions
â”œâ”€â”€ app.py                      # Streamlit UI (3 tabs)
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

---

## ğŸ’ Value Proposition

| For Business | For Operations | For Compliance |
|--------------|----------------|----------------|
| Reduced overdue aging | Automated case allocation | Complete audit trail |
| Improved recovery rates | SLA enforcement | Explainable AI decisions |
| Data-driven decisions | Real-time dashboards | Governance-ready |
| DCA performance tracking | Priority-based workflow | Decision traceability |

---

## ğŸ¤ Judge FAQ

**Q: What makes this solution unique?**
> We combine LLM reasoning with structured DCA management, SLA tracking, and complete audit trails - addressing the full FedEx problem statement.

**Q: How does AI classification work?**
> We preprocess raw case data into semantic context, send to Gemini 1.5 Flash for reasoning, and store decisions with full explainability.

**Q: Is this auditable for enterprise use?**
> Yes! Every decision includes timestamp, input data, AI reasoning, confidence score, and recommended action.

**Q: Can this scale?**
> Yes - modular architecture allows easy scaling. Database, AI, and UI are decoupled.

---

## ğŸ‘¨â€ğŸ’» Team

**IIT Kharagpur** | FedEx SMART Hackathon 2025

---

<div align="center">

*Built for smart, accountable, AI-driven debt recovery management* ğŸ¯

**DebtRisk AI** | Reimagining DCA Management through Digital & AI Solutions

</div>
